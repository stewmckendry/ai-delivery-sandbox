[phases.setup]
nixPkgs = ["curl", "bash"]
aptPkgs = ["unixodbc-dev", "libodbc2", "gnupg", "apt-transport-https"]

[phases.install]
cmds = [
  "curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -",
  "curl https://packages.microsoft.com/config/debian/10/prod.list > /etc/apt/sources.list.d/mssql-release.list",
  "apt-get update && ACCEPT_EULA=Y apt-get install -y msodbcsql18"
]

[phases.build]
cmds = ["pip install -r requirements.txt"]